<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//FR" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets" 
      xml:lang="fr" lang="fr"
      xmlns:bp="http://primefaces.prime.com.tr/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:s="http://jboss.com/products/seam/taglib"
      xmlns:a="https://ajax4jsf.dev.java.net/ajax"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:c="http://java.sun.com/jstl/core"
	  xmlns:rich="http://richfaces.ajax4jsf.org/rich">
	  <ui:remove>test de comms<!-- et là? --></ui:remove>
	<head>
	    <bp:resources />
		<meta http-equiv="Content-Type" content="text/xhtml; charset=UTF-8"/>		
		<title>
			<ui:insert name="title"/>
		</title>	
	<style>  
 .grid_panels {  

 padding: 2px;  
 height:auto;  

 vertical-align: top; 
 width: 33% 
 }  
</style>
		<link rel="shortcut icon" href="/SIEL/css2/cnss.png"  />
		<link rel="STYLESHEET" type="text/css" href="/SIEL/css2/styleTeam.css"/>
		<link rel="STYLESHEET" type="text/css" href="/SIEL/css2/popbox.css"/>
		
		<script type="text/javascript" src="/SIEL/blue-orange-menu/dmenu.js"></script>
    	<script type="text/javascript" src="/SIEL/js/jQuery.js"></script>
    	<script type="text/javascript" src="/SIEL/js/popbox.js"></script>
    	
    	<script type="text/javascript" src="/SIEL/js/scrolltopcontrol_1.1.js"></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.bgiframe.min.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/superfish/superfishGfs.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/superfish/supersubs.js" ></script>
    	<link type="text/css" href="/SIEL/js/superfish/superfish.css" rel="stylesheet"  />
    	
    	
    	<link type="text/css" href="/SIEL/js/jx/default/jx.stylesheet.css" rel="stylesheet"/>
    	<script type="text/javascript" src="/SIEL/js/jx/jquery.jixedbar.js" ></script>
    	
    	<script type="text/javascript" src="/SIEL/js/jquery.toast.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.maskedinput-1.2.4.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.alphanumeric.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/SpryAssets/SpryCollapsiblePanel_1.1.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/DD_roundies_0.0.2a-min.js" ></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.multiselect_1.1.js" charset="utf-8"></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.vticker_1.1.js" charset="utf-8"></script>
    	<script type="text/javascript" src="/SIEL/js/jquery.easynews.js"></script>
    	<script type="text/javascript" src="/SIEL/js/dtjava.js"></script>
		<link type="text/css" href="/SIEL/js/jquery.multiselect.css" rel="stylesheet"  />
		<link rel="stylesheet" href="/SIEL/js/jquery-ui.css" type="text/css" media="screen" charset="utf-8" />
		<link type="text/css" href="/SIEL/js/SpryAssets/SpryCollapsiblePanel.css" rel="stylesheet"  />
		<link type="text/css" href="/SIEL/css2/bootstrap.min.css" rel="stylesheet"  />
		<link type="text/css" href="/SIEL/css2/menu.css" rel="stylesheet"  />
		<link type="text/css" href="/SIEL/css2/font-awesome/css/font-awesome.min.css" rel="stylesheet"  />
		<link rel="STYLESHEET" type="text/css" href="/SIEL/css2/styleChaka_1.00.css"/>
		
     	<script type="text/javascript" >
		
     	jQuery.noConflict();

	  	domTT_oneOnly = true;
	  	function navigateTo(id) {	  		
	  		//jQuery("#frmTest\\:idHidden").input.val(id);
	  		//jQuery("#frmTest\\:idHidden").change();
	  		if(window.location.toString().indexOf('login', 0)!=-1){	  	
	  			var input = document.getElementById('frmMatriculeUser:idMatriculeUser');
	  			input.value = id;
	  			input.onchange();		    		    
	  		}
            
        }
	  	function disablementMaxToday(day){
	  	    if (new Date().getTime() - day.date.getTime() > 0) return true; else return false;  
	  	}
	  		  	
	  	function verifierCibleOriginale(evenement)
		{
	  		try
	  		{
	  			 domTT_deactivate(domTT_lastOpened);
		  	} catch(e){}

		  	if (jQuery(evenement.target).hasClass('classique') == true)
			{
				return false;
			}

		  	if (jQuery(evenement.target).hasClass('rich-menu-item-enabled') == true)
			{
				return false;
			}
			
			if (jQuery(evenement.target).hasClass('rich-menu-item') == true)
			{
				return false;
			}

			if (jQuery(evenement.target).hasClass('rich-menu-item-label') == true)
			{
				return false;
			}

			if (jQuery(evenement.target).parent().hasClass('rich-menu-item-icon') == true)
			{
				return false;
			}


			return true;
		}

		function contextMenuExpand()
		{
			try
	  		{
	  			 domTT_deactivate(domTT_lastOpened);
		  	} catch(e){}
		}
     	
		function dateEtHeureInputs()
		{

			jQuery(".dateHeure").unmask();
			jQuery(".duree").unmask();
			jQuery(".dureeBig").unmask();
			jQuery(".dureeVeryBig").unmask();
			jQuery(".heurePlanning").unmask();
			jQuery(".dureeVeryBig3").unmask();
			
			jQuery(".telCss").unmask();
			jQuery(".periode").unmask();
			jQuery(".dateHeureInput").unmask();
			jQuery(".nbOnlyMax100").unmask();
			
			jQuery(".dateHeure").mask("29:59");

			jQuery(".duree").mask("9h59");
			jQuery(".dureeBig").mask("19h59");
			jQuery(".dureeVeryBig").mask("99h59");
			jQuery(".dureeVeryBig3").mask("999h59");
			jQuery(".heurePlanning").mask("29");

			//new gora
			jQuery(".telCss").mask("(999).99.999.99.99");

			jQuery(".periode").mask("9999");
			
			jQuery(".dateHeureInput").mask("39/19/9999");
			
			jQuery(".nbOnlyMax100").mask("99");
			//fin new gora
			
			jQuery(".rich-calendar-input").not(".moisUniquement").not("#myForm\\:dateMoisDebutInputDate").not("#myForm\\:dateMoisFinInputDate").not("#main\\:dateMoisSeulNoMaskInputDate").not("#main\\:dateMoisSeulInputDate").unmask("");
			jQuery(".rich-calendar-input").not(".moisUniquement").not("#myForm\\:dateMoisDebutInputDate").not("#myForm\\:dateMoisFinInputDate").not("#main\\:dateMoisSeulNoMaskInputDate").not("#main\\:dateMoisSeulInputDate").mask("39/19/9999");

			jQuery("#main\\:dateMoisSeulInputDate").unmask("");
			jQuery("#main\\:dateMoisSeulInputDate").mask("19/9999");

			jQuery("#myForm\\:dateMoisDebutInputDate").unmask("");
			jQuery("#myForm\\:dateMoisDebutInputDate").mask("19/9999");

			
			
			jQuery("#myForm\\:dateMoisFinInputDate").unmask("");
			jQuery("#myForm\\:dateMoisFinInputDate").mask("19/9999");

			jQuery(".moisUniquement").unmask("");
			jQuery(".moisUniquement").mask("19/9999");
			
			jQuery(".montantFloat").unmask("");
			jQuery(".montantFloat").numeric({allow:"."});

			jQuery(".montant").numeric({allow:"."});
			jQuery(".montantNegatif").numeric({allow:".-"});
			
			jQuery(".nbOnly").numeric();

			jQuery(".nbOnlyMax100").numeric();
			
			try
			{
				jQuery(".multicoches").multiselect();
			} catch(e){

				

				}

			jQuery(".firstFocus").focus();

		

			
			try
			{
				var CollapsiblePanel1Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel1Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel2Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel2Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel3Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel4Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel5Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel1Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel1Ferme", {contentIsOpen:false});
			} catch(e){}

			try
			{
				var CollapsiblePanel2Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel2Ferme", {contentIsOpen:false});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel3Ferme", {contentIsOpen:false});	
			} catch(e){}

			try
			{
				var CollapsiblePanel2Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel4Ferme", {contentIsOpen:false});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel5Ferme", {contentIsOpen:false});	
			} catch(e){}
		}


		function dateEtHeureInputsSansFocus()
		{

			jQuery(".dateHeure").unmask();
			jQuery(".duree").unmask();
			jQuery(".dureeBig").unmask();
			jQuery(".dureeVeryBig").unmask();
			jQuery(".heurePlanning").unmask();
			
			jQuery(".telCss").unmask();
			
			jQuery(".dateHeure").mask("29:59");

			jQuery(".duree").mask("9h59");
			jQuery(".dureeBig").mask("19h59");
			jQuery(".dureeVeryBig").mask("99h59");
			jQuery(".heurePlanning").mask("29");
			jQuery(".telCss").mask("99.99.99.99.99");
			
			jQuery(".rich-calendar-input").not(".moisUniquement").not("#myForm\\:dateMoisDebutInputDate").not("#myForm\\:dateMoisFinInputDate").not("#main\\:dateMoisSeulNoMaskInputDate").not("#main\\:dateMoisSeulInputDate").unmask("");
			jQuery(".rich-calendar-input").not(".moisUniquement").not("#myForm\\:dateMoisDebutInputDate").not("#myForm\\:dateMoisFinInputDate").not("#main\\:dateMoisSeulNoMaskInputDate").not("#main\\:dateMoisSeulInputDate").mask("39/19/9999");

			jQuery("#main\\:dateMoisSeulInputDate").unmask("");
			jQuery("#main\\:dateMoisSeulInputDate").mask("19/9999");

			jQuery("#myForm\\:dateMoisDebutInputDate").unmask("");
			jQuery("#myForm\\:dateMoisDebutInputDate").mask("19/9999");

			
			
			jQuery("#myForm\\:dateMoisFinInputDate").unmask("");
			jQuery("#myForm\\:dateMoisFinInputDate").mask("19/9999");

			jQuery(".moisUniquement").unmask("");
			jQuery(".moisUniquement").mask("19/9999");
			

			jQuery(".montant").numeric({allow:"."});
			jQuery(".montantNegatif").numeric({allow:".-"});
			
			jQuery(".nbOnly").numeric();

			try
			{
				jQuery(".multicoches").multiselect();
			} catch(e){

				

				}

			
			try
			{
				var CollapsiblePanel1Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel1Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel2Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel2Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ouvert = new Spry.Widget.CollapsiblePanel("CollapsiblePanel3Ouvert", {contentIsOpen:true});
			} catch(e){}

			try
			{
				var CollapsiblePanel1Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel1Ferme", {contentIsOpen:false});
			} catch(e){}

			try
			{
				var CollapsiblePanel2Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel2Ferme", {contentIsOpen:false});
			} catch(e){}

			try
			{
				var CollapsiblePanel3Ferme = new Spry.Widget.CollapsiblePanel("CollapsiblePanel3Ferme", {contentIsOpen:false});	
			} catch(e){}
		}

		
		jQuery(document).ready(function()
		{
			
			jQuery(".popbox").popbox();
			
			jQuery("#floatingbar2").removeClass("floatingBarHidden");
			
			jQuery("#floatingbar2").jixedbar();
			
			// Superfish
			var supersubs_opt = { minWidth:12, maxWidth:27, extraWidth:1 };
			var superfish_opt = { delay:500, speed:'fast', animation: {height:'show'}, disableHI:true };
			
			jQuery('.rd_jsuperfish ul').addClass('sf-menu').supersubs(supersubs_opt).superfish(superfish_opt).superfish({
				/*pathClass:     'current',*/
				onBeforeShow: function(){
								
					if (jQuery(this ).hasClass("show_left")) {
						jQuery(this).css("left", "-190px");
					}
					if (jQuery(this ).hasClass("show_left2")) {
						jQuery(this).css("left", "-127px");
					}
					if (jQuery(this ).hasClass("show_left_ref")) {
						jQuery(this).css("left", "-295px");
					}

					
				}
			});

			jQuery('.rd_jsuperfish ul').find('ul').bgIframe({opacity:false});


			
			
			DD_roundies.addRule('.zoneRecherche', '10px');
			DD_roundies.addRule('.zoneRecherche .panel', '10px');
			DD_roundies.addRule('.zoneResultat', '10px');
			DD_roundies.addRule('.zoneResultat .panel', '10px');
			DD_roundies.addRule('.zoneResultat  .label', '10px');
			DD_roundies.addRule('.zoneNote', '10px');
			DD_roundies.addRule('.zoneAlerte', '10px');
			DD_roundies.addRule('.zoneTdb', '10px');
			DD_roundies.addRule('.label', '10px');
			DD_roundies.addRule('.label1', '10px');
			DD_roundies.addRule('.label1b', '10px');
			DD_roundies.addRule('.label2', '10px');


					
			dateEtHeureInputs();

			
				
		});

		

		function afficherAttente()
		{
			Richfaces.showModalPanel('waitModalPanel');
		}

		

		</script>
		
	</head>
	<body class="fond_accueil">
	
	<f:loadBundle basename="messages" var="msgBundle" />	
	
    <!-- Fin barre d'outils --> 
		
		
		<a:status
    		id="waitStatusHaut"
    		forceId="true"
    		onstart="javascript:Richfaces.showModalPanel('waitModalPanelHaut',{top:120});"
    		onstop="javascript:Richfaces.hideModalPanel('waitModalPanelHaut');"/>
		<rich:modalPanel
    		id="waitModalPanelHaut"
    		autosized="false"
    		width="500"
    		height="100"
    		styleClass="popupAttente"
    		moveable="false"
    		resizeable="false">
    		<div style="text-align: center;height: 40px;" >
	    		<img src="/SIEL/picto/loading.gif" alt="" width="32" height="32" />
    		</div>
    		<span>
    			<h:outputText value="#{msgBundle['label.traitementencours']}"/>
    		</span>
		</rich:modalPanel>
		<a:status
    		id="waitStatus"
    		forceId="true"
    		onstart="javascript:Richfaces.showModalPanel('waitModalPanel');"
    		onstop="javascript:Richfaces.hideModalPanel('waitModalPanel');"/>
		<rich:modalPanel
    		id="waitModalPanel"
    		autosized="false"
    		width="500"
    		height="100"
    		styleClass="popupAttente"
    		moveable="false"
    		resizeable="false">
    		<div style="text-align: center;height: 40px;" >
	    		<img src="/SIEL/picto/loading.gif" alt="" width="32" height="32" />
    		</div>
    		<span>
    			<h:outputText value="#{msgBundle['label.traitementencours']}"/>
    		</span>
		</rich:modalPanel>
		
		<ui:insert name="impression">
	     <rich:modalPanel  
      id="modalPdf"
      autosized="false"
      width="1200"
      height="620"      
      moveable="false"
      resizeable="true">
            
      <f:facet name="controls">
        <a onclick="Richfaces.hideModalPanel('modalPdf');" style="cursor:pointer" href="#">Fermer</a>
      </f:facet>
      <h:form id="frmPdf">
      <a:mediaOutput element="object" 
             id="id"
                    cacheable="false"
                    session="true"
                    createContent="#{filePrintService.paintPdf}"
                    type="application/pdf"
                    mimeType="application/pdf" style="width:90%; height:600px;" 
                    value="#{filePrintService.id}"/>
   
     </h:form>
     </rich:modalPanel>			
		 </ui:insert>		
	  
			<!-- gora -->
	        
	        <!-- debut modal impression word -->
	        
		<rich:modalPanel id="modalDownloadWord" styleClass="grey" style="background:url('../img2/fond.jpg') repeat-x scroll 0 0 #FFF;height:590;">

		<!-- BARRE TITRE MODAL -->	 
      
        <f:facet name="header">
            <h:panelGroup>
                <h:outputText value="Signataire du document  et les Pièces Jointes "></h:outputText>
            </h:panelGroup>
        </f:facet>
        <f:facet name="controls">
            <h:panelGroup>
                <h:graphicImage value="/picto/cross2.png" styleClass="hidelink" id="hidelink_T"/>
                <rich:componentControl for="modalDownloadWord" attachTo="hidelink_T" operation="hide" event="onclick"/>
            </h:panelGroup>
        </f:facet>	
	        			
		<!-- Fin TITRE MODAL -->

	
		<div class="cadreBordOrange margTop30px padLeft30px padRight30px">
			<div class="zoneTitreOrange margTop10px padLeft10px"></div>
			
			<rich:spacer height="20"/>
			
			<div class="margtop30px">

				<div>
				
					<!-- Holds the form -->

					<h:form class="note-form" id="formDownloadWord">
						<a:outputPanel ajaxRendered="true">
							<div style="visibility: hidden; display: none">
								
							</div>
						</a:outputPanel>
						
						<script>

							jQuery(document).ready(function()
									{
										dateEtHeureInputs();
									});
				
								function ajaxRequestContainsErrors() {
									var retour = jQuery("#formDownloadWord\\:error").text();
								    return  retour == 'X';
								}
				
								function fermerSiOk()
								{
									if (!ajaxRequestContainsErrors()) Richfaces.hideModalPanel('modalDownloadWord');
								}
								
						</script>
				<s:validateAll>
				
				<a:outputPanel id="panelType" >
					<table width="100%">
					 <tr>
					 <td align="top">					
						<rich:dataTable id="listeDatapjl" styleClass="rowClass" rowClasses="row1,row2" 
					 width="100%"  rows="10">
						<f:facet name="header">
							<rich:columnGroup>
								<rich:column>
									Nom signataire
								</rich:column>
								<rich:column>
									Statut signataire
								</rich:column>
							</rich:columnGroup>
						</f:facet>
						
						<rich:column style="text-align:center;" >
							<f:facet name="header">
								
								<h:selectOneMenu
									value="#{ceerFichierWordService.signataire}"			
									required="true" styleClass="firstFocus textBleu"
									requiredMessage="#{msgBundle['menu.general.messageRequ']}"
									converter="#{signatairemodeleConverter}">
									<s:selectItems noSelectionLabel="-------Selectionnez------"
										value="#{ceerFichierWordService.listeSignataire}"
										var="it" label="#{it.signataire.nom} #{it.signataire.prenom}"></s:selectItems>
									<a:support event="onchange" 
										status="waitStatus" reRender="sta" ajaxSingle="true">
									</a:support>					
								</h:selectOneMenu>
							</f:facet>	
						</rich:column>
						<rich:column style="text-align:center;" >
							<f:facet name="header">
								<h:panelGroup id="sta" >
									<h:inputText disabled="true" rendered="#{ceerFichierWordService.signataire ne null}" styleClass="textBleu margBot10px" size="37" value="#{ceerFichierWordService.signataire.statut}"/>
								</h:panelGroup>
							</f:facet>	
						</rich:column>
							
					</rich:dataTable>
					
					 </td>
					 <td>
					 	<rich:spacer width="50px;"></rich:spacer>
					 </td>
					 <td align="top">
					 
					 	<rich:dataTable id="listeDatapj" styleClass="rowClass" rowClasses="row1,row2" 
									value="#{ceerFichierWordService.trouverListePj()}" var="varType" width="100%"  rows="10">
						<f:facet name="header">
							<rich:columnGroup>
								<rich:column>
									Pièce jointe
								</rich:column>
								<rich:column>
									Action
								</rich:column>
							</rich:columnGroup>
						</f:facet>
						
						<rich:column style="text-align:center;" >
							<f:facet name="header">
								<h:panelGroup id="panCode">
									<h:inputText  styleClass="textBleu margBot10px" size="37" value="#{ceerFichierWordService.pj}"/>
								</h:panelGroup>
							</f:facet>	
							#{varType}
						</rich:column>
						
						<rich:column width="100px;" >
							<f:facet name="header">
								<h:panelGroup >
									<a:commandButton  image="/picto/add.png" style="height:16px;width:16px;border:0px;"  action="#{ceerFichierWordService.addPj()}" reRender="listeDatapj" status="waitStatus"
												styleClass="sansOmbre"  />
								</h:panelGroup>
							</f:facet>
							<table width="100%">
								<tr>
									<td align="center">
										
										<a:commandButton immediate="true" style="height:16px;width:16px;border:0px;" reRender="panelType"
											 
											image="/picto/cross.png" action="#{ceerFichierWordService.removePj(varType)}" styleClass="sansOmbre"
											 status="waitStatus" />
									</td>
								</tr>
							</table>
						
				   		    </rich:column>
							</rich:dataTable>
							 						
							 </td>
							 </tr>
							</table>
							
							<rich:spacer height="15px"/>
							
							<ui:insert name="buttonImpWord">
							</ui:insert>
							
							<rich:spacer height="15px"/>
							
							</a:outputPanel>
							
						</s:validateAll>
					</h:form>
				</div>
			</div>
			<div class="clear"></div>
		</div>
		</rich:modalPanel>
				
				
				<!-- xxxxxxxx -->
		
		
		<a:status
    		id="noPermissions"
    		forceId="true"    		
    		onstart="javascript:Richfaces.showModalPanel('modalNoPermissions');"/>    		
		<rich:modalPanel
    		id="modalNoPermissions"
    		autosized="false"
    		width="500"
    		height="100"
    		styleClass="popupAttente"
    		style="background-color: #F0F0F0;"    		
    		moveable="false"
    		resizeable="false">
    	    <f:facet name="controls">
				<a onclick="Richfaces.hideModalPanel('modalNoPermissions');" style="cursor:pointer" href="#">
				  <img src="/SIEL/picto/annuler.jpg" alt="" width="14" height="14" />
                </a>
			</f:facet>
    		<div style="text-align: center;height: 40px;" >
	    		<img src="/SIEL/picto/warning_red.png" alt="" width="32" height="32" />
    		</div>
    		<span>
    			<h:outputText value="#{msgBundle['msg.profileDroit']}" style="color : red; font-size: small"/>
    		</span>
		</rich:modalPanel>
		
		<rich:modalPanel  
    		id="modalDocument"
    		autosized="false"
    		width="700"
    		height="620"    		
    		moveable="false"
    		resizeable="true">
    		    		
    		<f:facet name="controls">
				<a onclick="Richfaces.hideModalPanel('modalDocument');" style="cursor:pointer" href="#">Fermer</a>
			</f:facet>	
			<h:form>		   
			     <h:panelGroup>
					<a:outputPanel id="regionUpload" >
						<s:fragment  >#{msgBundle['label.fileUpload.tailleMax']} : </s:fragment>
						<table>
							<tr>
								<td>
								<h:outputText styleClass="grey" value="#{fileUploadService.nomFichier}" />
								</td>
							</tr>
							<tr>
								<td>
								<rich:fileUpload id="uploadBox2" addControlLabel="Télécharger une photo"  styleClass="attachDocsEnabled"
        					stopEntryControlLabel="Stop upload" uploadControlLabel="Upload file" immediate="true" listWidth="450px" 
        						fileUploadListener="#{fileUploadService.fileUploadListenerDoc}"
        						acceptedTypes="jpg,bmp,png,gif,jpeg"
       						maxFilesQuantity="1" listHeight="0" immediateUpload="true"
       						ontyperejected="alert('format du fichier non accepté');">
        					<a:support  event="onuploadcomplete" reRender="regionUpload,img" status="waitStatus"  />
						</rich:fileUpload>
								</td>
							</tr>
						</table>																				
					</a:outputPanel>
								
					<div style="width:550px;height:450px;overflow:auto">
						
     					
       				</div>
			  	</h:panelGroup> 
							
				  <ui:insert name="buttonImg">
								
				  </ui:insert>
			</h:form> 
		</rich:modalPanel>	
		
    	<!-- fin gora -->
    			
		<ui:include   src="/template/include/header2.xhtml" />
		
		<div class="container body-contain" style="margin-top:-24px">
				
			<div>
				<h:form id="errorForm" >
				<a:outputPanel id="erreurStd" ajaxRendered="true" >
					<h:message  infoClass="informationGenerique" errorClass="informationGenerique" warnClass="informationGenerique" for="infoGenerique"    />
					<h:inputHidden id="infoGenerique"  />
					<h:message infoClass="confirmationerrorGenerique" errorClass="confirmationerrorGenerique" warnClass="confirmationerrorGenerique" for="erreurGenerique"    />
					<h:inputHidden id="erreurGenerique"  />
				</a:outputPanel>
				</h:form>
			</div>
		
			<ui:insert name="body">Body</ui:insert>
					
		</div>
		<footer class="footer">
			<div class="container" >&#169;&#160; Chaka Computer 2013</div>
		</footer>
	</body>
</html>
