<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  V 0.1 : Maj : 20/11/2007 -->
<ui:composition
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:rich="http://richfaces.ajax4jsf.org/rich"
	xmlns:a="https://ajax4jsf.dev.java.net/ajax"
	xmlns:s="http://jboss.com/products/seam/taglib"
	template="/template/template.xhtml">
	<!-- Page de parametrage des Vehicules -->
    <ui:define name="title">Application Am@domCim@p</ui:define>
	<ui:define name="body">
		
		<!-- formulaire -->
		<a:form>
		<table width="100%" >
				<tr>
					<td width="1075px;" >
						<div id="trd_submenu" class="trd_kb">
							<ul>
								<li>
									<h:commandLink   action="#{banquesMonnaiesService.creerBanqueMonnaie}" value="" onclick="afficherAttente();"   >
										<s:graphicImage fileName="accept.png" style="border:0px;" value="/picto/accept.png" width="16" height="16" alt="" />
										#{msgBundle['banqueMonnaie.valider']}
									</h:commandLink>
								</li>
								
							</ul>
						</div>
					</td>
					<td>
						&#160;
					</td>
				</tr>
			</table>
			
			
			
		<s:validateAll>
			
		
		
		<!-- Panel principal-->
		       <div id="zoneResultat" class="zoneRecherche">
					<div class="label2">
							#{msgBundle['banqueMonnaie.titre']}
					</div>
			
					<div class="panel">
						<div class="head" style='padding-top:15px;'>
							<div class="ico" ></div>		
							<div class="left perso" ></div>
							<div class="titre" >
								#{msgBundle['banqueMonnaie.titre.panel1']}
							</div>
							<div class="clear"></div>
						</div>
						<a:outputPanel>
				
				      <table  width="100%">
				            <tr> 
				                 <td  >
				                      <h:outputText value="#{msgBundle['banqueMonnaie.banque']}   : " />
				                 </td>
				                  <td >
				                	  <h:selectOneMenu id="nouvfc"  styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaie.codeBanque}"
											converter="#{banqueConverter}" >
										<s:selectItems noSelectionLabel="selectionnez..." value="#{banqueService.chargerMesList()}" 
										var="toto" label="#{toto.libelle}"/>
								   	</h:selectOneMenu>
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				                 <td >
				                      <h:outputText value="#{msgBundle['banqueMonnaie.monnaie']}   : " />
				                 </td>
				                  <td>
				                	  <h:selectOneMenu id="banque"  styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaie.codeMonnaie}"
											converter="#{monnaieConverter}" >
										<s:selectItems noSelectionLabel="selectionnez..." value="#{monnaieService.getListMonnaie()}" size="30"
										var="toto" label="#{toto.libelle}"/>
								   	</h:selectOneMenu>
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				                 
				                  
				                  <td >
				                       <h:outputText value="#{msgBundle['banqueMonnaie.libelle']}   : " />
				                 </td>
				                  <td >
				                     	<h:inputText styleClass="textBleu margBot10px"  id="libelle" value="#{banquesMonnaiesService.banqueMonnaie.libelle}"  required="true" maxlength="255"/>	
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				            </tr>
				            <tr> 
				                  <td >
				                       <h:outputText value="#{msgBundle['banqueMonnaie.convertible']}   : " />
				                 </td>
				                  <td >
				                     	<h:selectOneRadio  id="Convertible" styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaie.convertible}">
											<f:selectItem itemLabel="Oui" itemValue="#{true}" />
											<f:selectItem itemLabel="Non" itemValue="#{false}" />
										</h:selectOneRadio>
				                 </td>
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.unite']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px montant"  id="unite" value="#{banquesMonnaiesService.banqueMonnaie.unite}"   maxlength="25"/>	
										
				                 </td>
				                 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.nbDecimal']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px nbOnly"  id="nbDec" value="#{banquesMonnaiesService.banqueMonnaie.nombreDecimal}" required="true"   maxlength="1"/>
				                        <h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />	
										
				                 </td>
				                 
				            </tr>
				           
				      </table>
				
				
				
				</a:outputPanel>
			
				
						
					</div>
					<div style="height: 20px;width: 100%" ></div>
					<!-- panel2 -->
					<div class="panel">
						<div class="head" style='padding-top:15px;'>
							<div class="ico" ></div>		
							<div class="left perso" ></div>
							<div class="titre" >
								#{msgBundle['banqueMonnaie.titre.panel2']}
							</div>
							<div class="clear"></div>
						</div>
						
						<table width="100%">
				            
				            <tr> 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.unites']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="unites" value="#{banquesMonnaiesService.banqueMonnaie.unites}"   maxlength="20"/>	
	
				                 </td>
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.dizaines']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="dizaines" value="#{banquesMonnaiesService.banqueMonnaie.dizaines}"   maxlength="20"/>	
										
				                 </td>
				                 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.centaines']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="Centaines" value="#{banquesMonnaiesService.banqueMonnaie.centaines}"   maxlength="20"/>	
										
				                 </td>
				                 
				                 
				            </tr>
				            
				              <tr> 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.milliers']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="Milliers" value="#{banquesMonnaiesService.banqueMonnaie.milliers}"   maxlength="20"/>	
										
				                 </td>
				                 
				            </tr>
				           
				      </table>
		</div>
		    
			
		</div>
				  
		<div>  
			 <table width="100%" >
				  <tr>
					<td width="1075px;" >
						<div id="trd_submenu" class="trd_kb">
							<ul>
								<li>
									<h:commandLink  rendered="#{!s:hasRole('respSecteur')}" action="#{banquesMonnaiesService.creerBanqueMonnaie}" value="" onclick="afficherAttente();"  >
										<s:graphicImage fileName="accept.png" style="border:0px;" value="/picto/accept.png" width="16" height="16" alt="" />
										#{msgBundle['banqueMonnaie.valider']}
									</h:commandLink>
								</li>
								
							</ul>
						</div>
					</td>
					<td>
						&#160;
					</td>
				 </tr>
			   </table>
			</div>  
				
					
					
		 </s:validateAll>
		</a:form>
<!-- zone de la liste  -->
  
<!-- ******************   formulaire 2  *************** -->
<h:form>
		  
		
		<div id="zoneResultat" class="zoneResultat">
			<div class="label2">
				#{msgBundle['banqueMonnaie.titre.liste']}
			</div>
			
			<div class="panel">
				<div class="head" style='padding-top:15px;'>
					<div class="ico" ></div>		
					<div class="left perso" ></div>
					<div class="titre" >
						#{msgBundle['banqueMonnaie.titre.liste']}
					</div>
					<div class="clear"></div>
				</div>
				
	
			<rich:dataTable id="listBanqueMonnaie" value="#{banquesMonnaiesService.listbanqueMonnaie}" var="unBanqueMonnaie" styleClass="tableauEnfants" 
					rendered="true" width="100%"  height="100%" >
			
				<f:facet name="header" >
						<rich:columnGroup >
				       		<rich:column>
				       		     #{msgBundle['banqueMonnaie.banque.libelle']}
				       		</rich:column>
				       		<rich:column>
					       		 #{msgBundle['banqueMonnaie.monnaie.libelle']}
				       		</rich:column>
				       		<rich:column>
					       		#{msgBundle['banqueMonnaie.libelle']}
				       		</rich:column>
				       		<rich:column width="50px;" >
					       		Action
				       		</rich:column>
				       		
				       	</rich:columnGroup>
				</f:facet>
				 	
				  <rich:column>
						
						<h:outputText   value="#{unBanqueMonnaie.codeBanque.libelle}" />
					</rich:column>
					
					<rich:column>
						
						<h:outputText   value="#{unBanqueMonnaie.codeMonnaie.libelle}" />
					</rich:column>
					
					<rich:column>
								  <h:outputText  value="#{unBanqueMonnaie.libelle}" />	
					</rich:column>
				 	
				 	
				 	
				 	<rich:column >
						
						<table width="100%">
							<tr>
								<td align="center">
									<div style="text-align: center; padding-top: 5px;">
										<a:commandLink immediate="true" status="waitStatus" action="#{banquesMonnaiesService.initModifierBanquesMonnaies(unBanqueMonnaie)}" value=""
										    id="modifierUnBanqueMonnaie"  styleClass="sansOmbre" reRender="ModificationBanqueMonnaie"
											
											oncomplete="javascript:Richfaces.showModalPanel('panel2',{width:800, top:5, height:500});jQuery('#CreationReference\\:nomContact3').focus();">
										<h:graphicImage value="/picto/page_edit.png" alt="" style="border:0;" />
										</a:commandLink>
										
																
									</div>
									
								 </td>
								 
								 <td align="center">
								  <a:commandButton  immediate="true" status="waitStatus" title="supprimer"
									id="supprimerUnBanqueMonnaie" image="/picto/cross.png" styleClass="sansOmbre"
									onclick="if (!confirm('Voulez vous effacer #{unBanqueMonnaie.codeBanque} #{unBanqueMonnaie.libelle} ?')) return false"
									action="#{banquesMonnaiesService.supprimerBanqueMonnaie(unBanqueMonnaie)}"
									reRender="listBanqueMonnaie" oncomplete="dateEtHeureInputs();" />
								 </td>
							</tr>
						</table>
						
				</rich:column>
				</rich:dataTable>
				</div>
				</div>
	</h:form>
<!-- ***********     fin formulaire 2 **************** -->
								
<!-- ****************************************************************************  -->				
				<rich:modalPanel id="panel2" style="background:url('../img2/fond.jpg') repeat-x scroll 0 0 #FFF;height:390;">
					<div class="cadreBordOrange margTop30px padLeft30px padRight30px">
						<div class="zoneTitreOrange margTop10px padLeft10px"> #{msgBundle['banqueMonnaie.titre.modifier']}  </div>
						<br />
						<div class="margtop30px">
							<f:facet name="controls">
								<a onclick="Richfaces.hideModalPanel('panel2');" style="cursor: pointer" href="#"> #{msgBundle['modal.fermer']}</a>
							</f:facet>


							<div>
								<!-- Holds the form -->

								<h:form class="note-form" id="ModificationBanqueMonnaie">
									<a:outputPanel ajaxRendered="true">
										<div style="visibility: hidden; display: none">
											<h:messages id="error"></h:messages>
										</div>
									</a:outputPanel>
									<script>

				jQuery(document).ready(function()
				{
					dateEtHeureInputs();
				});
			
				function ajaxRequestContainsErrors() {
					var retour = jQuery("#ModificationBanqueMonnaie\\:error").text();
				    return  retour == 'X';
				}

				function fermerSiOk()
				{
					if (!ajaxRequestContainsErrors()) Richfaces.hideModalPanel('panel2');
				}
				
			</script>
					<s:validateAll>
					  <table whide="100%">
				            <tr> 
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.banque']}   : " />
				                 </td>
				                  <td>
				                	 <h:selectOneMenu id="nouvfc"  styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaieModifier.codeBanque}"
											converter="#{banqueConverter}" >
										<s:selectItems noSelectionLabel="selectionnez..." value="#{banqueService.chargerMesList()}" 
										var="toto" label="#{toto.libelle}"/>
								   	</h:selectOneMenu>
				                	
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.monnaie']}   : " />
				                 </td>
				                  <td>
				                	  <h:selectOneMenu id="banqueModif"  styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaieModifier.codeMonnaie}"
											converter="#{monnaieConverter}" >
										<s:selectItems noSelectionLabel="selectionnez..." value="#{monnaieService.getListMonnaie()}" size="30"
										var="toto" label="#{toto.libelle}"/>
								   	</h:selectOneMenu>
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				                 
				                  
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.libelle']}   : " />
				                 </td>
				                  <td>
				                     	<h:inputText styleClass="textBleu margBot10px"  id="libelles" value="#{banquesMonnaiesService.banqueMonnaieModifier.libelle}"  required="true" maxlength="255"/>	
										<h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />
										
				                 </td>
				            </tr>
				            <tr> 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.convertible']}   : " />
				                 </td>
				                  <td>
				                     	<h:selectOneRadio  id="ConveModif" styleClass="textBleu margBot10px" value="#{banquesMonnaiesService.banqueMonnaieModifier.convertible}">
											<f:selectItem itemLabel="Oui" itemValue="#{true}" />
											<f:selectItem itemLabel="Non" itemValue="#{false}" />
										</h:selectOneRadio>
				                 </td>
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.unite']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px montant"  id="uniteModif" value="#{banquesMonnaiesService.banqueMonnaieModifier.unite}"   maxlength="20"/>	
										
										<h:message for="unit" style="color:red"/>
				                 </td>
				                 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.nbDecimal']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px nbOnly"  id="nbDecsModif" value="#{banquesMonnaiesService.banqueMonnaieModifier.nombreDecimal}" required="true"   maxlength="20"/>
				                        <h:outputText  style="color:red;font-size: large;font-weight: bold;" value=" *" />	
										
				                 </td>
				                 
				            </tr>
				           
				      </table>
				
					
						<table whide="100%">
				            
				            <tr> 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.unites']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="unitesModif" value="#{banquesMonnaiesService.banqueMonnaieModifier.unites}"   maxlength="20"/>	
	
				                 </td>
				                 <td>
				                      <h:outputText value="#{msgBundle['banqueMonnaie.dizaines']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="dizaines" value="#{banquesMonnaiesService.banqueMonnaieModifier.dizaines}"   maxlength="20"/>	
										
				                 </td>
				                 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.centaines']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="CentainesModif" value="#{banquesMonnaiesService.banqueMonnaieModifier.centaines}"   maxlength="20"/>	
										
				                 </td>
				                 
				                 
				            </tr>
				            
				              <tr> 
				                  <td>
				                       <h:outputText value="#{msgBundle['banqueMonnaie.milliers']}   : " />
				                 </td>
				                  <td>
				                        <h:inputText styleClass="textBleu margBot10px"  id="MilliersModif" value="#{banquesMonnaiesService.banqueMonnaieModifier.milliers}"   maxlength="20"/>	
										
				                 </td>
				                 
				            </tr>
				            <tr>  
				                <td colspan="8" align="center">
													<!-- The green submit button: --> <br />
													<hr class="orange" /> <a:commandButton action="#{banquesMonnaiesService.modifierbanqueMonnaie}" value="Modifier" style="text-align:right;" oncomplete="fermerSiOk();" status="waitStatus"
														reRender="listBanqueMonnaie,ModificationBanqueMonnaie"
														image="/img2/bouton_valider.jpg" 
													/>
								</td>
				            </tr>
				           
				      </table>
							
										
					</s:validateAll>
				</h:form>
				</div>
				</div>
						<div class="clear"></div>
					</div>
				</rich:modalPanel>
				
<!-- fin zone de la liste -->
			
		  
		        

		
		
	</ui:define>
</ui:composition>