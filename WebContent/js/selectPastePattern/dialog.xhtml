<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
xmlns:h="http://java.sun.com/jsf/html"
xmlns:s="http://jboss.com/products/seam/taglib">
<head>
<script type="text/javascript" src="/secusoft/js/selectPastePattern/js/dialog.js"></script>
	<title>{#example_dlg.title} {#progiImage_dlg.dialog_title} sdsds</title>
	<script type="text/javascript" src="/secusoft/js/selectPastePattern/js/tiny_mce_popup.js"></script>
	<script type="text/javascript" src="/secusoft/js/selectPastePattern/js/form_utils.js"></script>
	
<script type="text/javascript" >	
tinyMCEPopup.requireLangPack();

var ExampleDialog1 = {
	init : function() {
		var f = document.forms[0];

		// Get the selected contents as text and place it in the input
		f.someval.value = tinyMCEPopup.editor.selection.getContent({format : 'text'});
		f.somearg.value = tinyMCEPopup.getWindowArg('some_custom_arg');
	},

	insert : function() {
		//alert(document.forms[0].listechamp.value);
		// Insert the contents from the input into the document
		tinyMCEPopup.editor.execCommand('mceInsertContent', false, document.forms[0].listechamp.value);
		tinyMCEPopup.close();
	}
};

tinyMCEPopup.onInit.add(ExampleDialog1.init, ExampleDialog1);
</script>     	
	
</head>
<body>
<form onsubmit="ExampleDialog1.insert();return false;" action="#">
	<p>Here is a example dialog.</p>
	<p>Selected text: <input id="someval" name="someval" type="text" class="text" /></p>
	<p>Custom arg: <h:selectOneMenu id="listechamp" value="#{documentService.selectedChamp}"
												styleClass="textBleu" 
											 >
												<s:selectItems var="champ" noSelectionLabel="Aucun" label="#{champ.libelle}" itemValue="#{champ.pattern}" value="#{champpersoList.lstChampPerso}" />
											</h:selectOneMenu>
											<h:message for="listechamp"  style="color:red" /></p>

	<div class="mceActionPanel">
		<div style="float: left">
			<input type="button" id="insert" name="insert" value="{#insert}" onclick="ExampleDialog1.insert();" />
		</div>

		<div style="float: right">
			<input type="button" id="cancel" name="cancel" value="{#cancel}" onclick="tinyMCEPopup.close();" />
		</div>
	</div>
</form>

</body>
</html>
